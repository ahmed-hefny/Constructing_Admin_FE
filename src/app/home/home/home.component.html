<div class="layout-wrapper" [class.sidebar-active]="sidebarVisible" appRtl>
  <!-- Top Header -->
  <header class="layout-top-bar">
    <div class="top-bar-left">
      <button
        type="button"
        class="top-bar-menu-button p-link"
        (click)="toggleSidebar()"
        pRipple
      >
        <i class="pi pi-bars"></i>
      </button>
      <span class="top-bar-separator"></span>
      <div class="layout-top-bar-logo">
        <span>إدارة الإنشاءات</span>
      </div>
    </div>

    <div class="top-bar-right">
      <ul class="layout-top-bar-actions">
        <li class="top-bar-item">
          <p-button
            icon="pi pi-sign-out"
            [text]="true"
            severity="secondary"
            (click)="logout()"
            pTooltip="تسجيل الخروج"
            tooltipPosition="bottom"
            class="rotate-y-180"
          >
          </p-button>
        </li>
      </ul>
    </div>
  </header>

  <!-- Custom Sidebar (not using p-sidebar) -->
  <aside class="layout-sidebar" [class.sidebar-visible]="sidebarVisible">
    <div class="sidebar-header">
      <i class="pi pi-building sidebar-header-icon"></i>
      <span class="sidebar-header-text">إدارة الإنشاءات</span>
    </div>

    <div class="sidebar-content">
      <div>
        <!-- User Profile Section -->
        <div class="sidebar-profile">
          <div class="profile-info">
            <p-avatar
              icon="pi pi-user"
              size="large"
              shape="circle"
              styleClass="profile-avatar"
            >
            </p-avatar>
            <div class="profile-details">
              <div class="profile-name">{{ user?.uniqueName }}</div>
              <div class="profile-role">{{ user?.role }}</div>
            </div>
          </div>
        </div>
  
        <!-- Navigation Menu -->
        <div class="sidebar-menu">
          <p-menu
            [model]="menuItems"
            styleClass="sidebar-nav-menu"
          />      
        </div>
      </div>
      <div class="text-center">
        v{{version}}
      </div>
    </div>
  </aside>

  <!-- Main Content Area -->
  <div class="layout-main">
    <div class="layout-content">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>
